/* Custom Cursors - Исправленные hot spots */

/* Стандартный курсор */
body {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11" fill="none" stroke="%238b5cf6" stroke-width="2"/><circle cx="12" cy="12" r="3" fill="%238b5cf6"/></svg>') 12 12, auto;
}

/* Crosshair Cursor - Прицел - улучшенный */
body.crosshair-cursor {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11" fill="none" stroke="%23d946ef" stroke-width="1.5" opacity="0.9"/><circle cx="12" cy="12" r="2" fill="%23d946ef"/><line x1="12" y1="1" x2="12" y2="7" stroke="%23d946ef" stroke-width="1.5"/><line x1="12" y1="17" x2="12" y2="23" stroke="%23d946ef" stroke-width="1.5"/><line x1="1" y1="12" x2="7" y2="12" stroke="%23d946ef" stroke-width="1.5"/><line x1="17" y1="12" x2="23" y2="12" stroke="%23d946ef" stroke-width="1.5"/></svg>') 12 12, crosshair;
}

/* Glove Cursor - Перчатка (точный центр) */
body.glove-cursor {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6,18 L6,9 Q6,6 9,6 L9,12 M9,6 Q9,3 12,3 L12,11 M12,3 Q12,1 14,1 L14,9 M14,1 Q15,0.5 16.5,1.5 L16.5,8 Q17.5,8 18,9 L18,14 Q18,18 13.5,19.5 L9,19.5 Q6,18 6,18 Z" fill="%23FFE4B5" stroke="%23D2691E" stroke-width="1"/><ellipse cx="10" cy="14" rx="1.5" ry="2" fill="%23DEB887"/><ellipse cx="13.5" cy="14" rx="1.5" ry="2" fill="%23DEB887"/><path d="M7.5,13 Q9,13.5 10,13.5 Q11.5,13.5 13.5,13.5 Q15,13.5 16.5,13" stroke="%23D2691E" stroke-width="0.8" fill="none"/></svg>') 12 14, pointer;
}

/* Sword Cursor - Центрированный меч */
body.sword-cursor {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><linearGradient id="swordGradFixed" x1="0%25" y1="0%25" x2="100%25" y2="100%25"><stop offset="0%25" style="stop-color:%238b5cf6;stop-opacity:1" /><stop offset="100%25" style="stop-color:%23d946ef;stop-opacity:1" /></linearGradient></defs><path d="M3,20 L6,18 L7,19 L4,22 Z" fill="%23A0522D" stroke="%23654321" stroke-width="0.4"/><path d="M6,18 L18,6 L19,7 L7,19 Z" fill="url(%23swordGradFixed)" stroke="%23fff" stroke-width="0.6"/><circle cx="18" cy="6" r="1" fill="%23FFD700"/><path d="M18,6 L21,3 L22,4 L19,7 Z" fill="%23C0C0C0" stroke="%23808080" stroke-width="0.4"/></svg>') 2 20, pointer;
}

/* Interactive elements with custom cursor feedback */
.carousel-btn:hover,
.cursor-btn:hover,
.nav a:hover,
button:hover {
    cursor: inherit;
}

/* Animated cursor effects */
.cursor-btn {
    position: relative;
    overflow: hidden;
}

.cursor-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(217, 70, 239, 0.4) 0%, transparent 70%);
    transform: translate(-50%, -50%);
    border-radius: 50%;
    transition: width 0.6s ease, height 0.6s ease;
    pointer-events: none;
}

.cursor-btn:hover::before {
    width: 200%;
    height: 200%;
}

/* Hover effect for glove cursor */
body.glove-cursor .carousel-slide:hover,
body.glove-cursor .cursor-btn:hover,
body.glove-cursor button:hover {
    transform: scale(1.02);
    transition: transform 0.2s ease;
}

/* Hover effect for sword cursor */
body.sword-cursor .carousel-slide:hover,
body.sword-cursor .cursor-btn:hover {
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.6), 0 0 40px rgba(217, 70, 239, 0.4);
}

/* Crosshair precision mode */
body.crosshair-cursor button,
body.crosshair-cursor a {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="12" fill="none" stroke="%23d946ef" stroke-width="2" opacity="0.9"/><circle cx="16" cy="16" r="2" fill="%23d946ef"/><line x1="16" y1="4" x2="16" y2="12" stroke="%23d946ef" stroke-width="2.5"/><line x1="16" y1="20" x2="16" y2="28" stroke="%23d946ef" stroke-width="2.5"/><line x1="4" y1="16" x2="12" y2="16" stroke="%23d946ef" stroke-width="2.5"/><line x1="20" y1="16" x2="28" y2="16" stroke="%23d946ef" stroke-width="2.5"/></svg>') 16 16, pointer !important;
}

/* Sword cursor for links */
body.sword-cursor a,
body.sword-cursor button {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><defs><linearGradient id="swordGrad2" x1="0%25" y1="0%25" x2="100%25" y2="100%25"><stop offset="0%25" style="stop-color:%23d946ef;stop-opacity:1" /><stop offset="100%25" style="stop-color:%238b5cf6;stop-opacity:1" /></linearGradient></defs><path d="M4,28 L8,24 L10,26 L6,30 Z" fill="%23A0522D" stroke="%23654321" stroke-width="0.5"/><path d="M8,24 L24,8 L26,10 L10,26 Z" fill="url(%23swordGrad2)" stroke="%23FFD700" stroke-width="1"/><circle cx="24" cy="8" r="2" fill="%23FFD700"/><path d="M24,8 L28,4 L29,5 L25,9 Z" fill="%23E0E0E0" stroke="%23FFD700" stroke-width="0.8"/></svg>') 4 4, pointer !important;
}

/* Glove cursor for clickable elements */
body.glove-cursor a,
body.glove-cursor button,
body.glove-cursor .carousel-slide {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M6,26 L6,14 Q6,9 11,9 L11,18 M11,9 Q11,5 15,5 L15,16 M15,5 Q15,2 18,2 L18,14 M18,2 Q19,0.5 21.5,1.5 L21.5,12 Q24,12 24,14 L24,22 Q24,28 17,30 L10,30 Q6,28 6,26 Z" fill="%23FFE4B5" stroke="%23D2691E" stroke-width="1.5"/><ellipse cx="13" cy="22" rx="2.5" ry="3.5" fill="%23DEB887"/><ellipse cx="18" cy="22" rx="2.5" ry="3.5" fill="%23DEB887"/><path d="M8,20 Q11,21 13,21 Q15,21 18,21 Q21,21 23,20" stroke="%23D2691E" stroke-width="1.2" fill="none"/><circle cx="13" cy="23" r="0.5" fill="%23A0522D"/><circle cx="18" cy="23" r="0.5" fill="%23A0522D"/></svg>') 6 6, pointer !important;
}

/* Ripple animation for cursor changes */
@keyframes ripple {
    from {
        width: 0;
        height: 0;
        opacity: 1;
    }
    to {
        width: 200%;
        height: 200%;
        opacity: 0;
    }
}

/* Glow effect on active cursor button */
.cursor-btn.active {
    position: relative;
    transform-origin: center;
}

.cursor-btn.active::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #8b5cf6, #d946ef, #8b5cf6, #d946ef);
    background-size: 300% 300%;
    border-radius: 8px;
    z-index: -1;
    animation: gradientRotate 3s ease infinite;
    opacity: 0.6;
}

/* Zoom-responsive cursor hot spots */
@media (min-resolution: 2dppx) {
    body.crosshair-cursor {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" fill="none" stroke="%23d946ef" stroke-width="2" opacity="0.9"/><circle cx="12" cy="12" r="2" fill="%23d946ef"/><line x1="12" y1="3" x2="12" y2="9" stroke="%23d946ef" stroke-width="2"/><line x1="12" y1="15" x2="12" y2="21" stroke="%23d946ef" stroke-width="2"/><line x1="3" y1="12" x2="9" y2="12" stroke="%23d946ef" stroke-width="2"/><line x1="15" y1="12" x2="21" y2="12" stroke="%23d946ef" stroke-width="2"/></svg>') 12 12, crosshair;
    }
}

/* Enhanced precision for high zoom levels */
@media (zoom: 200%) or (min-resolution: 3dppx) {
    body {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="7" fill="none" stroke="%238b5cf6" stroke-width="1.5"/><circle cx="8" cy="8" r="2" fill="%238b5cf6"/></svg>') 8 8, auto;
    }

    body.crosshair-cursor {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="7" fill="none" stroke="%23d946ef" stroke-width="1.5" opacity="0.9"/><circle cx="8" cy="8" r="1" fill="%23d946ef"/><line x1="8" y1="1" x2="8" y2="5" stroke="%23d946ef" stroke-width="1.5"/><line x1="8" y1="11" x2="8" y2="15" stroke="%23d946ef" stroke-width="1.5"/><line x1="1" y1="8" x2="5" y2="8" stroke="%23d946ef" stroke-width="1.5"/><line x1="11" y1="8" x2="15" y2="8" stroke="%23d946ef" stroke-width="1.5"/></svg>') 8 8, crosshair;
    }

    body.sword-cursor {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><linearGradient id="swordZoom" x1="0%25" y1="0%25" x2="100%25" y2="100%25"><stop offset="0%25" style="stop-color:%238b5cf6;stop-opacity:1" /><stop offset="100%25" style="stop-color:%23d946ef;stop-opacity:1" /></linearGradient></defs><path d="M2,13 L5,12 L5.5,12.5 L2.5,15 Z" fill="%23A0522D"/><path d="M5,12 L12,4 L13,5 L5.5,12.5 Z" fill="url(%23swordZoom)"/></svg>') 1.5 13, pointer;
    }

    body.glove-cursor {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M4,11 L4,6 Q4,4 6,4 L6,7.5 M6,4 Q6,2 8,2 L8,6.5 M8,2 Q8,1.5 9.5,1.5 L9.5,5.5 Q10.5,5.5 11,6 L11,9 Q11,12 8.5,13 L6,13 Q4,12 4,11.5 Z" fill="%23FFE4B5" stroke="%23D2691E"/><ellipse cx="6.5" cy="9" rx="1" ry="1.5" fill="%23DEB887"/><ellipse cx="9.5" cy="9" rx="1" ry="1.5" fill="%23DEB887"/></svg>') 8 9, pointer;
    }

    /* Fix transform origins for zoom */
    .cursor-btn, .carousel-btn, .nav a, button, .carousel-slide {
        transform-origin: center center !important;
    }

    /* Reset any broken positions */
    .nav a::after {
        transform-origin: 50% 100%;
    }
}

/* Ultra-high zoom fallback */
@media (zoom: 500%) {
    body {
        cursor: auto !important;
    }

    body.crosshair-cursor,
    body.sword-cursor,
    body.glove-cursor {
        cursor: crosshair !important;
    }
}

@keyframes gradientRotate {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
